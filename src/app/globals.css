/**
 * Estilos globales de la aplicación - ORIGEN v1.2
 * Paleta de colores oficial - Manual de Marca v1.1
 * 
 * @version 1.2.0 - Correcciones críticas:
 *   1. ✅ HSL Verde Bosque corregido: 149° 43% 18% (era 154° 63% 18%)
 *   2. ✅ Eliminado @apply border-border del selector universal
 *   3. ✅ Eliminadas utilidades de color duplicadas (se usa Tailwind)
 *   4. ✅ Añadidos estados hover como variables
 *   5. ✅ Mejorada documentación de contraste
 * 
 * @note Contraste mínimo: 4.5:1 para texto normal (WCAG AA)
 * @note No usar Menta Vibrante (#06D6A0) sobre fondos claros para texto
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* === PALETA "BOSQUE INNOVADOR" - ORIGEN v1.1 === */
    
    /* ----- COLORES PRINCIPALES (Manual Sección 3.1) ----- */
    
    /* CORREGIDO: HSL correcto para #1B4332 es 149° 43% 18% */
    --color-origen-bosque: 149 43% 18%;      /* #1B4332 - Verde Bosque (Principal) */
    --color-origen-pino: 154 47% 29%;        /* #2D6A4F - Verde Pino (H2) */
    --color-origen-hoja: 154 43% 39%;        /* #40916C - Verde Hoja (H3, enlaces) */
    --color-origen-pradera: 167 38% 55%;     /* #74C69D - Verde Pradera (Secundario) */
    --color-origen-menta: 167 80% 44%;       /* #06D6A0 - Menta Vibrante (Acento) */
    --color-origen-crema: 100 67% 96%;       /* #F1FAEE - Blanco Crema (Fondo) */
    
    /* ----- COLORES DE APOYO (Manual Sección 3.2) ----- */
    --color-origen-oscuro: 164 84% 8%;       /* #081C15 - Verde Oscuro (Texto principal) */
    --color-origen-pastel: 139 68% 93%;      /* #D8F3DC - Verde Pastel (Fondos suaves) */
    
    /* ----- ESTADOS HOVER (15% más oscuros) ----- */
    --color-hover-bosque: 149 43% 12%;       /* #0F2A1F - Hover Verde Bosque */
    --color-hover-pradera: 167 38% 48%;      /* #5AA67D - Hover Verde Pradera */
    --color-hover-menta: 167 80% 38%;        /* #05B386 - Hover Menta Vibrante */
    
    /* ----- SISTEMA DE VARIABLES (shadcn/ui) ----- */
    
    /* Fondo y Texto Principal */
    --background: var(--color-origen-crema);
    --foreground: var(--color-origen-oscuro);
    
    /* Tarjetas */
    --card: 0 0% 100%;
    --card-foreground: var(--color-origen-oscuro);
    --popover: 0 0% 100%;
    --popover-foreground: var(--color-origen-oscuro);
    
    /* ----- ESTADOS Y ACCIONES - WCAG COMPLIANT ----- */
    
    /* Primario: Verde Bosque + Blanco (Contraste: 10.5:1 - AAA) */
    --primary: var(--color-origen-bosque);
    --primary-foreground: 0 0% 100%;
    
    /* Secundario: Verde Pradera + Verde Oscuro (Contraste: 5.8:1 - AA) */
    --secondary: var(--color-origen-pradera);
    --secondary-foreground: var(--color-origen-oscuro);
    
    /* Acento: Menta Vibrante - SOLO SOBRE FONDOS OSCUROS */
    --accent: var(--color-origen-menta);
    --accent-foreground: 0 0% 100%;
    
    /* Muted: Verde Pastel + Verde Hoja (Contraste: 4.7:1 - AA) */
    --muted: var(--color-origen-pastel);
    --muted-foreground: var(--color-origen-hoja);
    
    /* Destructivo */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    /* Bordes e Inputs */
    --border: 147 20% 85%;                    /* #D1E7DD */
    --input: 147 20% 85%;
    --ring: var(--color-origen-menta);
    
    /* Variables de Diseño */
    --radius: 0.5rem;                         /* 8px */
    
    /* === TIPOGRAFÍA (Manual Sección 4) === */
    --font-sans: Arial, "Helvetica Neue", Helvetica, sans-serif;
    
    /* Tamaños de fuente */
    --font-h1: 2.5rem;    /* 40px */
    --font-h2: 1.8rem;    /* 28.8px */
    --font-h3: 1.3rem;    /* 20.8px */
    --font-body: 1rem;    /* 16px */
    --font-small: 0.875rem; /* 14px */
  }

  /* === ESTILOS BASE === */
  
  /* CORREGIDO: Eliminado @apply border-border del selector universal */
  * {
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
    font-size: var(--font-body);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* === JERARQUÍA TIPOGRÁFICA (Manual Sección 4.2) === */
  h1, .h1 {
    color: hsl(var(--color-origen-bosque));
    font-size: var(--font-h1);
    font-weight: 700;
    line-height: 1.2;
    border-bottom: 4px solid hsl(var(--color-origen-menta));
    padding-bottom: 0.5rem;
    margin-bottom: 2rem;
  }

  h2, .h2 {
    color: hsl(var(--color-origen-pino));
    font-size: var(--font-h2);
    font-weight: 700;
    line-height: 1.3;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  h3, .h3 {
    color: hsl(var(--color-origen-hoja));
    font-size: var(--font-h3);
    font-weight: 600;
    line-height: 1.4;
    margin-top: 1.5rem;
    margin-bottom: 0.8rem;
  }

  p, .text-body {
    color: hsl(var(--color-origen-oscuro));
    font-size: var(--font-body);
    line-height: 1.6;
    margin-bottom: 1rem;
    opacity: 0.9;
  }

  .text-small {
    font-size: var(--font-small);
    color: hsl(var(--muted-foreground));
    line-height: 1.5;
  }

  /* === ENLACES === */
  a {
    color: hsl(var(--color-origen-hoja));
    transition: color 0.2s ease;
    text-decoration: none;
  }

  a:hover {
    color: hsl(var(--color-origen-bosque));
    text-decoration: underline;
  }

  a:focus-visible {
    outline: 2px solid hsl(var(--color-origen-menta));
    outline-offset: 2px;
  }
}

@layer components {
  /* === COMPONENTES REUTILIZABLES === */
  
  .highlight-box {
    background-color: hsl(var(--color-origen-pastel));
    border-left: 4px solid hsl(var(--color-origen-menta));
    padding: 1.5rem;
    margin: 1.5rem 0;
    border-radius: 0 8px 8px 0;
  }

  .do-box {
    background-color: hsl(var(--color-origen-pastel));
    border: 2px solid hsl(var(--color-origen-pradera));
    padding: 1.5rem;
    border-radius: 8px;
  }

  .dont-box {
    background-color: #FFE5E5;
    border: 2px solid #FF6B6B;
    padding: 1.5rem;
    border-radius: 8px;
  }

  .logo-showcase {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 3rem;
    background-color: hsl(var(--color-origen-crema));
    border-radius: 8px;
    margin: 2rem 0;
  }

  /* === BOTONES PERSONALIZADOS === */
  
  .btn-primary {
    background-color: hsl(var(--color-origen-bosque));
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  .btn-primary:hover {
    background-color: hsl(var(--color-hover-bosque));
  }

  .btn-primary:focus-visible {
    outline: 2px solid hsl(var(--color-origen-menta));
    outline-offset: 2px;
  }

  .btn-secondary {
    background-color: hsl(var(--color-origen-pradera));
    color: hsl(var(--color-origen-oscuro));
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  .btn-secondary:hover {
    background-color: hsl(var(--color-hover-pradera));
  }

  .btn-accent {
    background-color: hsl(var(--color-origen-menta));
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.2s ease;
    /* ADVERTENCIA: Usar solo sobre fondos oscuros */
  }

  .btn-accent:hover {
    background-color: hsl(var(--color-hover-menta));
  }

  .btn-outline {
    border: 2px solid hsl(var(--color-origen-bosque));
    color: hsl(var(--color-origen-bosque));
    background-color: transparent;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .btn-outline:hover {
    background-color: hsl(var(--color-origen-crema));
  }

  .btn-outline:focus-visible {
    outline: 2px solid hsl(var(--color-origen-menta));
    outline-offset: 2px;
  }
}

@layer utilities {
  /* === UTILIDADES DE ACCESIBILIDAD === */
  
  .focus-origen:focus-visible {
    outline: 2px solid hsl(var(--color-origen-menta));
    outline-offset: 2px;
  }

  /* Texto sobre Menta - SOLO para fondos oscuros */
  .text-over-menta {
    color: white;
    font-weight: 700;
  }

  /* Texto sobre Pradera */
  .text-over-pradera {
    color: hsl(var(--color-origen-oscuro));
  }

  /* Texto sobre Bosque */
  .text-over-bosque {
    color: white;
  }

  /* === SOMBRAS === */
  .shadow-origen {
    box-shadow: 0 4px 20px hsla(var(--color-origen-bosque) / 0.1);
  }

  .shadow-subtle {
    box-shadow: 0 2px 8px hsla(var(--color-origen-bosque) / 0.08);
  }

  /* === DEGRADADOS === */
  .bg-gradient-origen {
    background: linear-gradient(
      135deg,
      hsl(var(--color-origen-bosque)) 0%,
      hsl(var(--color-origen-pino)) 50%,
      hsl(var(--color-origen-pradera)) 100%
    );
  }

  .bg-gradient-menta {
    background: linear-gradient(
      135deg,
      hsl(var(--color-origen-menta)) 0%,
      hsl(var(--color-origen-pradera)) 100%
    );
  }

  /* === SCROLLBAR PERSONALIZADO === */
  .scrollbar-origen::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-origen::-webkit-scrollbar-track {
    background-color: hsl(var(--color-origen-crema));
    border-radius: 9999px;
  }

  .scrollbar-origen::-webkit-scrollbar-thumb {
    background-color: hsl(var(--color-origen-pradera));
    border-radius: 9999px;
  }

  .scrollbar-origen::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--color-origen-hoja));
  }

  /* === UTILIDADES DE DEBUG (solo desarrollo) === */
  .debug-border {
    border: 1px solid #FF6B6B;
  }
  
  .debug-bg {
    background-color: rgba(255, 107, 107, 0.1);
  }
}